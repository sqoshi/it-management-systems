%% Fonts

\usepackage{sourceserifpro}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amsthm,eucal,bbold,bm}
\usepackage[italic,eulergreek]{mathastext}
\usepackage[polish]{babel}
\usepackage{polski} % Dostarcza polską notację matematyczną, itp.

% URL font
\usepackage[hyphens]{url}
\urlstyle{same}

% Correct spacing around letters in math
\MTsetmathskips{f}{\thinmuskip}{0mu}
\MTsetmathskips{y}{\thinmuskip}{0mu}
\MTsetmathskips{p}{\thinmuskip}{0mu}
\MTsetmathskips{l}{0mu}{\thinmuskip}
\MTsetmathskips{j}{\thinmuskip}{\thinmuskip}

% Copiable text in PDF
\input{glyphtounicode}
\pdfgentounicode=1

%% Color

\usepackage[x11names]{xcolor}

%% Spacing

\usepackage[onehalfspacing]{setspace}
\AtBeginDocument{\frenchspacing}
\usepackage{microtype}

%% Title page

% Title font
\usepackage{titling}
\pretitle{\begin{center}\bfseries\huge}

% No thanks mark
\renewcommand{\tamark}{}
\setlength{\thanksmarkwidth}{0em}
\setlength{\thanksmargin}{0em}

% No indentation for abstract
\usepackage{etoolbox}
\AtBeginEnvironment{titlepage}{\setlength{\parindent}{0pt}}

%% Headings
\usepackage{indentfirst} % Wcięcie pierwszego paragrafu

\usepackage{titlesec}
\titleformat*{\section}{\large\bfseries}
\titleformat*{\subsection}{\bfseries}
\titleformat{\paragraph}[runin]{\itshape}{}{}{}[.]
\titlelabel{\thetitle.\quad}

%% Theorems & proofs

\newtheoremstyle{paper}{}{}{\itshape}{}{\scshape}{.}{.5em}{}
\theoremstyle{paper}
\newtheorem{theorem}{Theorem}
\newtheorem{proposition}{Proposition}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{definition}{Definition}
\newtheorem{assumption}{Assumption}
\newtheorem{remark}{Remark}

% Proof label font
\renewcommand{\proofname}{\upshape\scshape Proof}

%% Tables & figures
\usepackage{tabularx}
\usepackage{multirow,booktabs,rotating,graphicx}
\renewcommand{\floatpagefraction}{0}
\renewcommand{\arraystretch}{1.1}
\renewcommand{\figurename}{\textsc{Figure}}
\renewcommand{\tablename}{\textsc{Table}}
\BeforeBeginEnvironment{tabular*}{\footnotesize}
\AtBeginDocument{\allowdisplaybreaks[1]}

% Captions
\usepackage{caption,subcaption}
\captionsetup{labelsep=period}
\captionsetup[sub]{labelformat=simple,labelsep=period,size=footnotesize}
\captionsetup[table]{position=top}
\renewcommand{\thesubfigure}{\Alph{subfigure}}

% Centered figures & tables
\makeatletter\g@addto@macro\@floatboxreset\centering\makeatother

% Notes below tables & figures
\newcommand{\note}[2][]{\parbox{\textwidth}{\footnotesize\vspace*{10pt}\textit{#1}#2}}

% Figure sizes & spaces
\newcommand{\sfig}{0.2}
\newcommand{\mfig}{0.3}
\newcommand{\lfig}{0.4}
\newcommand{\vfig}{\\\vspace*{0.4cm}}

%% Lists
\usepackage{listings}
\usepackage{enumitem}
\setlist[itemize,1]{leftmargin=\parindent,label=\color{gray}{\upshape\textbullet}}
\setlist[itemize,2]{leftmargin=2\parindent,label=\color{gray}{\upshape\textendash}}
% \setlist[enumerate,1]{leftmargin=\parindent,label=\upshape(\alph*)}
% \setlist[enumerate,2]{leftmargin=2\parindent,label=\upshape(\roman*)}

% \lstset{language=Bash, % język programowania
%     basicstyle=\small\ttfamily, % podstawowy styl czcionki
%     keywordstyle=\bfseries, % styl dla słów kluczowych
%     commentstyle=\itshape, % styl dla komentarzy
%     stringstyle=\ttfamily, % styl dla łańcuchów znaków
%     showstringspaces=false, % wyłączenie podkreślania odstępów w łańcuchach znaków
%     numbers=left, % numerowanie linii po lewej stronie
%     numberstyle=\tiny, % styl dla numerów linii
%     stepnumber=1, % krok numeracji linii
%     frame=single, % rama wokół kodu
%     breaklines=true % automatyczne łamanie linii
% }

%% Bibliography

\usepackage[numbers]{natbib}

% \usepackage{natbib}
% \setcitestyle{aysep={}}
% \renewcommand{\bibfont}{\small}
% \setlength{\bibsep}{0pt}
% \setlength{\bibhang}{1.5em}

% Reduced spacing in bibliography
% \AtBeginEnvironment{thebibliography}{\setstretch{1.1}}

%% Hyperlinks (last package)

\usepackage{fancyhdr} % Before hyperref
\usepackage[pdftex,hidelinks,hypertexnames=false,hyperfootnotes=false,pdfpagemode=UseNone,pdfdisplaydoctitle=true]{hyperref}

%% Layout (after hyperref)

\usepackage[margin=1.1in,footskip=0.7in]{geometry}

%% Headers & footers (after hyperref & geometry)

% No header line
\renewcommand{\headrule}{}

% Centered page numbers on regular pages
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[C]{\thepage}

% Footers for title pages
\fancypagestyle{plain}{\fancyhf{}}
\newcommand{\available}[1]{\fancypagestyle{plain}{\fancyfoot[C]{\color{gray}\footnotesize Available at \url{#1}}}}
\newcommand{\published}[2]{\fancypagestyle{plain}{\fancyfoot[C]{\footnotesize Published in \emph{#1}\;\textbullet\;Available at \url{#2}}}}